input AMPLIFY { globalAuthRule: AuthRule = { allow: public } } # FOR TESTING ONLY!

type TShirt @model {
  styleNumber: String! @primaryKey
  brand: String!
  color: String!
  size: TShirtSize!
  type: TShirtType!
  quantityOnHand: Int @default(value: "0")
  isDeleted: Boolean @default(value: "false")
}

enum TShirtSize {
  NB
  SixMonths
  TwelveMonths
  EighteenMonths
  TwoT
  ThreeT
  FourT
  FiveT
  YXS
  YS
  YM
  YL
  YXL
  AS
  AM
  AL
  AXL
  TwoX
  ThreeX
  FourX
  FiveX
}

enum TShirtType {
  Cotton
  Drifit
  Blend
}

type PurchaseOrder @model {
  id: ID!
  orderNumber: String # Optional for admin to track
  vendor: String!
  orderedItems: [TShirtOrder!] @hasMany
  status: POStatus!
  changeHistory: [PurchaseOrderChange!] @hasMany
}

enum POStatus {
  Open
  Closed
}

type PurchaseOrderChange @model {
  tshirt: TShirt! @hasOne
  quantityChange: Int! # the delta
}

type TShirtOrder @model {
  tshirt: TShirt! @hasOne
  quantity: Int!
  amountReceived: Int @default(value: "0")
}

type CustomerOrder @model {
  id: ID!
  contact: CustomerContact!
  orderDate: AWSDate!
  dateNeededBy: AWSDate
  orderedItems: [TShirtOrder!] @hasMany
}

type CustomerContact {
  name: String!
  email: String
  phoneNumber: AWSPhone
}

